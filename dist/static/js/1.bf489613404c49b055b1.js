webpackJsonp([1],{"+E39":function(t,e,n){t.exports=!n("S82l")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},"+ZMJ":function(t,e,n){var r=n("lOnJ");t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,a){return t.call(e,n,r,a)}}return function(){return t.apply(e,arguments)}}},"77Pl":function(t,e,n){var r=n("EqjI");t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},"7KvD":function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},"9bBU":function(t,e,n){n("mClu");var r=n("FeBl").Object;t.exports=function(t,e,n){return r.defineProperty(t,e,n)}},C4MV:function(t,e,n){t.exports={default:n("9bBU"),__esModule:!0}},D2L2:function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},EqjI:function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},FeBl:function(t,e){var n=t.exports={version:"2.6.5"};"number"==typeof __e&&(__e=n)},MmMw:function(t,e,n){var r=n("EqjI");t.exports=function(t,e){if(!r(t))return t;var n,a;if(e&&"function"==typeof(n=t.toString)&&!r(a=n.call(t)))return a;if("function"==typeof(n=t.valueOf)&&!r(a=n.call(t)))return a;if(!e&&"function"==typeof(n=t.toString)&&!r(a=n.call(t)))return a;throw TypeError("Can't convert object to primitive value")}},ON07:function(t,e,n){var r=n("EqjI"),a=n("7KvD").document,i=r(a)&&r(a.createElement);t.exports=function(t){return i?a.createElement(t):{}}},S82l:function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},SfB7:function(t,e,n){t.exports=!n("+E39")&&!n("S82l")(function(){return 7!=Object.defineProperty(n("ON07")("div"),"a",{get:function(){return 7}}).a})},X8DO:function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},Xik7:function(t,e,n){t.exports=n.p+"static/img/LostSource.41c5a11.png"},bOdI:function(t,e,n){"use strict";e.__esModule=!0;var r,a=n("C4MV"),i=(r=a)&&r.__esModule?r:{default:r};e.default=function(t,e,n){return e in t?(0,i.default)(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},evD5:function(t,e,n){var r=n("77Pl"),a=n("SfB7"),i=n("MmMw"),s=Object.defineProperty;e.f=n("+E39")?Object.defineProperty:function(t,e,n){if(r(t),e=i(e,!0),r(n),a)try{return s(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},hJx8:function(t,e,n){var r=n("evD5"),a=n("X8DO");t.exports=n("+E39")?function(t,e,n){return r.f(t,e,a(1,n))}:function(t,e,n){return t[e]=n,t}},iGJb:function(t,e){},kM2E:function(t,e,n){var r=n("7KvD"),a=n("FeBl"),i=n("+ZMJ"),s=n("hJx8"),o=n("D2L2"),l=function(t,e,n){var u,c,v,f=t&l.F,p=t&l.G,d=t&l.S,_=t&l.P,g=t&l.B,h=t&l.W,m=p?a:a[e]||(a[e]={}),y=m.prototype,C=p?r:d?r[e]:(r[e]||{}).prototype;for(u in p&&(n=e),n)(c=!f&&C&&void 0!==C[u])&&o(m,u)||(v=c?C[u]:n[u],m[u]=p&&"function"!=typeof C[u]?n[u]:g&&c?i(v,r):h&&C[u]==v?function(t){var e=function(e,n,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,r)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(v):_&&"function"==typeof v?i(Function.call,v):v,_&&((m.virtual||(m.virtual={}))[u]=v,t&l.R&&y&&!y[u]&&s(y,u,v)))};l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,t.exports=l},lOnJ:function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},mClu:function(t,e,n){var r=n("kM2E");r(r.S+r.F*!n("+E39"),"Object",{defineProperty:n("evD5").f})},wHgX:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("bOdI"),a=n.n(r),i={name:"Detail",data:function(){var t;return t={movies:[],randomRes:[],randomMovieCount:6,detail:[],casts:[],countries:[],directors:[],duration:"",genres:[],languages:[],poster:"",pubdate:[],rating:{average:3,rating_people:0,stars:[]},summary:"",title:"",writers:[],rate:3},a()(t,"countries",[]),a()(t,"languages",[]),a()(t,"value1",1),a()(t,"value2",2),a()(t,"value3",3),a()(t,"value4",4),a()(t,"value5",5),t},mounted:function(){this.getCertainMovie(this.$route.params.id),this.getRandomMovies()},methods:{getCertainMovie:function(t){var e=this;axios.get("/api/_id="+t).then(function(t){e.detail=t.data[0],e.init()})},getRandomMovies:function(){var t=this;axios.get("/api/random="+this.randomMovieCount).then(function(e){t.randomRes=e.data})},init:function(){this.casts=this.detail.casts,this.countries=this.detail.countries,this.directors=this.detail.directors,this.duration=this.detail.duration,this.genres=this.detail.genres,this.languages=this.detail.languages,this.poster=this.detail.poster,this.pubdate=this.detail.pubdate,this.rating=this.detail.rating,this.summary=this.detail.summary,this.title=this.detail.title,this.writers=this.detail.writers,this.countries=this.detail.countries,this.languages=this.detail.languages,this.rate=parseFloat((parseFloat(this.detail.rating.average)/2).toFixed(1)),""===this.detail.rating.average&&(this.rate=0,this.rating.average="",this.rating.rating_people=0,this.rating.stars=[0,0,0,0,0])},imgError:function(){this.poster=n("Xik7")},imgListError:function(t){t.poster=n("Xik7")},goToDetail:function(t){this.$router.push({name:"movie-detail",params:{id:t._id}})},goToList:function(){this.$router.push({name:"movie-list"})}},computed:{getScoreColor:function(){return this.rating.average>7.9?"#FF9900":this.rating.average>4?"#F7BA2A":"#FF9900"}},watch:{$route:function(t,e){this.$router.go(0)}}},s={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-container",[n("el-header",[t._v(t._s(this.detail.title))]),t._v(" "),n("el-main",[n("div",{staticClass:"container"},[n("img",{staticClass:"poster",attrs:{src:t.poster,alt:t.title},on:{error:function(e){return t.imgError()}}}),t._v(" "),n("div",{staticStyle:{flex:"1"}},[n("div",{staticClass:"casts"},[n("div",[t._v("\n                            导演: "),t._l(t.directors,function(e,r){return n("span",{key:r+100,staticClass:"director"},[t._v("\n                              "+t._s(e.name)),e!=t.directors[t.directors.length-1]?n("a",{staticClass:"director"},[t._v(", ")]):t._e()])})],2),t._v(" "),n("div",[t._v("\n                            编剧: "),t._l(t.writers,function(e,r){return n("span",{key:r+1e3},[t._v("\n                              "+t._s(e.name)),e!=t.writers[t.writers.length-1]?n("a",{staticClass:"sep"},[t._v(", ")]):t._e()])})],2),t._v(" "),n("div",[t._v("\n                            演员: "),t._l(t.casts,function(e,r){return n("span",{key:r+1e3},[t._v("\n                              "+t._s(e.name)),e!=t.casts[t.casts.length-1]?n("a",{staticClass:"sep"},[t._v(", ")]):t._e()])})],2)]),t._v(" "),n("div",{staticClass:"check"},[t._v("\n                        上映日期: "),t._l(t.pubdate,function(e,r){return n("span",{key:r,staticClass:"date"},[t._v(t._s(e))])}),t._v(" "),n("div",{staticClass:"duration"},[t._v("片长: "+t._s(t.duration)+"min")]),t._v("\n                        类型: "),t._l(t.genres,function(e,r){return n("span",{key:r+10,staticClass:"genre"},[t._v(t._s(e))])}),t._v(" "),n("div",[t._v("制片国家/地区: "),t._l(t.countries,function(e,r){return n("span",{key:r+110,staticClass:"genre"},[t._v(t._s(e))])})],2),t._v(" "),n("div",[t._v("语言: "),t._l(t.languages,function(e,r){return n("span",{key:r+120,staticClass:"genre"},[t._v(t._s(e))])})],2)],2)]),t._v(" "),n("div",[n("div",[n("span",{staticClass:"rating"},[n("el-rate",{attrs:{disabled:"","text-color":"#ff9900",colors:["#99A9BF","#F7BA2A","#FF9900"],"score-template":"{value}"},model:{value:t.rate,callback:function(e){t.rate=e},expression:"rate"}})],1),t._v(" "),n("span",{staticClass:"score",style:{color:t.getScoreColor}},[t._v(t._s(t.rating.average))]),t._v(" "),n("span",{staticClass:"rating-people"},[t._v("("+t._s(t.rating.rating_people)+"人评分)")])]),t._v(" "),n("div",[n("span",{staticClass:"rating"},[n("el-rate",{attrs:{disabled:"","show-text":"",colors:["#99A9BF","#F7BA2A","#FF9900"],"text-color":"#ff9900","score-template":"{value}"},model:{value:t.value5,callback:function(e){t.value5=e},expression:"value5"}})],1),t._v(" "),n("span",{staticClass:"rating-people"},[t._v(t._s(t.rating.stars[0])+"%")])]),t._v(" "),n("div",[n("span",{staticClass:"rating"},[n("el-rate",{attrs:{disabled:"","show-text":"",colors:["#99A9BF","#F7BA2A","#FF9900"],"text-color":"#ff9900","score-template":"{value}"},model:{value:t.value4,callback:function(e){t.value4=e},expression:"value4"}})],1),t._v(" "),n("span",{staticClass:"rating-people"},[t._v(t._s(t.rating.stars[1])+"%")])]),t._v(" "),n("div",[n("span",{staticClass:"rating"},[n("el-rate",{attrs:{disabled:"","show-text":"",colors:["#99A9BF","#F7BA2A","#FF9900"],"text-color":"#F7BA2A","score-template":"{value}"},model:{value:t.value3,callback:function(e){t.value3=e},expression:"value3"}})],1),t._v(" "),n("span",{staticClass:"rating-people"},[t._v(t._s(t.rating.stars[2])+"%")])]),t._v(" "),n("div",[n("span",{staticClass:"rating"},[n("el-rate",{attrs:{disabled:"","show-text":"",colors:["#99A9BF","#F7BA2A","#FF9900"],"text-color":"#99A9BF","score-template":"{value}"},model:{value:t.value2,callback:function(e){t.value2=e},expression:"value2"}})],1),t._v(" "),n("span",{staticClass:"rating-people"},[t._v(t._s(t.rating.stars[3])+"%")])]),t._v(" "),n("div",[n("span",{staticClass:"rating"},[n("el-rate",{attrs:{disabled:"","show-text":"",colors:["#99A9BF","#F7BA2A","#FF9900"],"text-color":"#99A9BF","score-template":"{value}"},model:{value:t.value1,callback:function(e){t.value1=e},expression:"value1"}})],1),t._v(" "),n("span",{staticClass:"rating-people"},[t._v(t._s(t.rating.stars[4])+"%")])])])]),t._v(" "),n("div",{staticClass:"intro"},[n("div",{staticClass:"intro-word"},[t._v("简介")]),n("br"),t._v(" "),n("div",[t._v(t._s(t.summary))])]),t._v(" "),n("div",{staticClass:"other-movie"},[n("div",{staticClass:"command-word"},[n("span",[t._v("推荐")]),t._v(" "),n("span",{staticClass:"back",on:{click:t.goToList}},[t._v("返回列表>>")])]),t._v(" "),t._l(t.randomRes,function(e,r){return n("el-col",{key:r+350,attrs:{span:4}},[n("img",{staticClass:"poster-list",attrs:{src:e.poster,alt:e.title},on:{error:function(n){return t.imgListError(e)},click:function(n){return t.goToDetail(e)}}}),t._v(" "),n("div",{staticClass:"title-list"},[t._v(t._s(e.title))])])})],2)])],1)],1)},staticRenderFns:[]};var o=n("VU/8")(i,s,!1,function(t){n("iGJb")},"data-v-c3d7e158",null);e.default=o.exports}});